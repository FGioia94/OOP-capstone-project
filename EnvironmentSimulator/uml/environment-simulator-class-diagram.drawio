<mxfile host="65bd71144e">
    <diagram id="env-sim-diagram" name="EnvironmentSimulator Overview">
        <mxGraphModel dx="644" dy="568" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="1654" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="main" value="&lt;b&gt;Main&lt;/b&gt;&lt;br/&gt;+ main(args) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#E8F5FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="40" width="160" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="game" value="&lt;b&gt;Game&lt;/b&gt; (abstract)&lt;br/&gt;# builder : MapBuilder&lt;br/&gt;# repository : AnimalRepository&lt;br/&gt;# gameLoop : GameLoop&lt;br/&gt;+ start() : void&lt;br/&gt;+ sendWelcomeMessages() : boolean&lt;br/&gt;# initializeGame(), runGameLoop(), createMapBuilder(), createAnimalRepository(), initialSetup()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF8F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="240" y="20" width="320" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="gameAdmin" value="&lt;b&gt;GameAdmin&lt;/b&gt;&lt;br/&gt;+ initializeGame()&lt;br/&gt;+ runGameLoop(...)&lt;br/&gt;+ createMapBuilder()&lt;br/&gt;+ createAnimalRepository()&lt;br/&gt;+ initialSetup()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="580" y="20" width="220" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="gameDefault" value="&lt;b&gt;GameDefault&lt;/b&gt;&lt;br/&gt;+ initializeGame()&lt;br/&gt;+ runGameLoop(...)&lt;br/&gt;+ createMapBuilder()&lt;br/&gt;+ createAnimalRepository()&lt;br/&gt;+ initialSetup()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="820" y="20" width="220" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="gameLoop" value="&lt;b&gt;GameLoop&lt;/b&gt;&lt;br/&gt;+ run() : void&lt;br/&gt;+ addObserver(o) : void&lt;br/&gt;+ setTurnFinished(boolean)&lt;br/&gt;+ requestExit() : void&lt;br/&gt;... moveAnimals(), attack(), reproduce(), handleUserInputs()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F0FFF0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="240" y="240" width="360" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="gameObserver" value="&lt;b&gt;GameObserver&lt;/b&gt; (interface)&lt;br/&gt;+ onEvent(event : GameEvent) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="240" width="200" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="loggingObserver" value="&lt;b&gt;LoggingObserver&lt;/b&gt;&lt;br/&gt;+ onEvent(event) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="330" width="180" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="recapObserver" value="&lt;b&gt;RecapObserver&lt;/b&gt;&lt;br/&gt;+ onEvent(event) : void&lt;br/&gt;+ flush() : String" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="420" width="180" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="gameEvent" value="&lt;b&gt;GameEvent&lt;/b&gt;&lt;br/&gt;- type : GameEventType&lt;br/&gt;- message : String&lt;br/&gt;- payload : Object&lt;br/&gt;+ getters" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFF0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="620" y="240" width="220" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="gameEventType" value="&lt;b&gt;GameEventType&lt;/b&gt; (enum)&lt;br/&gt;ATTACK, MOVE, HUNGER, ..." style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="620" y="360" width="180" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="animalComponent" value="&lt;b&gt;AnimalComponent&lt;/b&gt; (interface)&lt;br/&gt;+ getId(), getAnimalType(), getSex()&lt;br/&gt;+ get/set Position, Hp, Exp, Level, Pack&lt;br/&gt;+ getRange() : int&lt;br/&gt;+ getMembers() : List" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="900" y="240" width="260" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="animal" value="&lt;b&gt;Animal&lt;/b&gt; (abstract)&lt;br/&gt;- id, animalType, range, sex, position, hp, exp, level, pack&lt;br/&gt;+ getters/setters, getMembers() empty&lt;br/&gt;# reproduce()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF8F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="900" y="410" width="300" height="160" as="geometry"/>
                </mxCell>
                <mxCell id="carnivore" value="&lt;b&gt;Carnivore&lt;/b&gt;&lt;br/&gt;+ Carnivore(...), reproduce()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1220" y="410" width="180" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="herbivore" value="&lt;b&gt;Herbivore&lt;/b&gt;&lt;br/&gt;+ Herbivore(...), reproduce()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1220" y="500" width="180" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="pack" value="&lt;b&gt;AnimalPack&lt;/b&gt;&lt;br/&gt;- id, members&lt;br/&gt;+ add/remove, getMembers(), aggregated position/hp/exp/level" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F0FFF0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="900" y="590" width="300" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="animalFactory" value="&lt;b&gt;AnimalFactory&lt;/b&gt; (abstract)&lt;br/&gt;+ buildAnimal(builder, repo, pos, sex, hp, exp, lvl)&lt;br/&gt;# createAnimal(...) : Animal&lt;br/&gt;+ createAnimalFromState(repo, AnimalState)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF8F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1240" y="240" width="260" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="carFactory" value="&lt;b&gt;CarnivoreFactory&lt;/b&gt;&lt;br/&gt;+ createAnimal(...): Animal" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1540" y="240" width="180" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="herFactory" value="&lt;b&gt;HerbivoreFactory&lt;/b&gt;&lt;br/&gt;+ createAnimal(...): Animal" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1540" y="320" width="180" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="repository" value="&lt;b&gt;AnimalRepository&lt;/b&gt;&lt;br/&gt;- animals : Map&lt;String,AnimalComponent&gt;&lt;br/&gt;+ add(), remove(), get(), getAll(), getAllExceptPacks()&lt;br/&gt;+ toState(), fromState()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8F8;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1080" y="20" width="260" height="150" as="geometry"/>
                </mxCell>
                <mxCell id="animalInspector" value="&lt;b&gt;AnimalInspector&lt;/b&gt;&lt;br/&gt;+ inspectAnimal(), invokeGetter(), loadFactoryByName(), discoverFactories(), compareAnimals()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1540" y="410" width="240" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="animalNotFound" value="&lt;b&gt;AnimalNotFoundException&lt;/b&gt;&lt;br/&gt;RuntimeException" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1540" y="560" width="200" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="mapBuilder" value="&lt;b&gt;MapBuilder&lt;/b&gt;&lt;br/&gt;- width, height&lt;br/&gt;- grass/water/obstacle positions&lt;br/&gt;+ build() : EnvironmentMap&lt;br/&gt;+ spawnElements(), getAllValidPositions(), moveAnimal()&lt;br/&gt;+ toState(), fromState(), clear*" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#E8F5FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="240" y="470" width="320" height="200" as="geometry"/>
                </mxCell>
                <mxCell id="environmentMap" value="&lt;b&gt;EnvironmentMap&lt;/b&gt;&lt;br/&gt;+ getters for positions/dimensions" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="240" y="690" width="220" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="position" value="&lt;b&gt;Position&lt;/b&gt;&lt;br/&gt;record (x,y)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FAFAFA;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="480" y="690" width="140" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="invalidMap" value="&lt;b&gt;InvalidMapConfigurationException&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="240" y="780" width="240" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="snapshot" value="&lt;b&gt;GameSnapshot&lt;/b&gt;&lt;br/&gt;- animalState : AnimalRepositoryState&lt;br/&gt;- mapState : MapState&lt;br/&gt;+ getAnimalState(), getMapState()" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFF0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="820" y="700" width="240" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="animalRepoState" value="&lt;b&gt;AnimalRepositoryState&lt;/b&gt; (record)&lt;br/&gt;+ animals : List&lt;AnimalState&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1080" y="700" width="200" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="animalState" value="&lt;b&gt;AnimalState&lt;/b&gt; (record)&lt;br/&gt;+ id, range, position, sex, hp, exp, level, animalType, pack" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1300" y="700" width="240" height="110" as="geometry"/>
                </mxCell>
                <mxCell id="mapState" value="&lt;b&gt;MapState&lt;/b&gt; (record)&lt;br/&gt;+ width, height&lt;br/&gt;+ grassPositions, waterPositions, obstaclesPositions" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="820" y="830" width="260" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="saveGame" value="&lt;b&gt;SaveGame&lt;/b&gt;&lt;br/&gt;+ save(fileName, snapshot, type)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#E8F5FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="640" width="220" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="loadGame" value="&lt;b&gt;LoadGame&lt;/b&gt;&lt;br/&gt;+ load(fileName, type) : GameSnapshot" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#E8F5FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="720" width="220" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="serializationStrategy" value="&lt;b&gt;SerializationStrategy&lt;/b&gt; (interface)&lt;br/&gt;+ serialize(snapshot) : T" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="820" width="210" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="deserializationStrategy" value="&lt;b&gt;DeserializationStrategy&lt;/b&gt; (interface)&lt;br/&gt;+ deserialize(data) : GameSnapshot" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="910" width="220" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="readStrategy" value="&lt;b&gt;ReadStrategy&lt;/b&gt; (interface)&lt;br/&gt;+ read(filePath) : T" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="40" y="1000" width="200" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="persistenceStrategy" value="&lt;b&gt;PersistenceStrategy&lt;/b&gt; (abstract)&lt;br/&gt;- path : Path&lt;br/&gt;+ save(serialized : T)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF8F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="270" y="820" width="220" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="jsonSer" value="&lt;b&gt;JsonSerializationStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="270" y="910" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="binSer" value="&lt;b&gt;BinarySerializationStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="270" y="980" width="210" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="jsonDes" value="&lt;b&gt;JsonDeserializationStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="500" y="910" width="220" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="binDes" value="&lt;b&gt;BinaryDeserializationStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="500" y="980" width="220" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="jsonRead" value="&lt;b&gt;JsonReadStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="730" y="910" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="binRead" value="&lt;b&gt;BinaryReadStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="730" y="980" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="jsonPersist" value="&lt;b&gt;JsonPersistenceStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="270" y="1050" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="binPersist" value="&lt;b&gt;BinaryPersistenceStrategy&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="500" y="1050" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="saveEx" value="&lt;b&gt;SaveException&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="730" y="1050" width="150" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="loadEx" value="&lt;b&gt;LoadException&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="900" y="1050" width="150" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="commandHandler" value="&lt;b&gt;CommandHandler&lt;/b&gt; (abstract)&lt;br/&gt;+ handle(input, scanner, gameLoop) : void&lt;br/&gt;+ setNext(handler)" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF8F0;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="960" y="860" width="240" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="commandChainBuilder" value="&lt;b&gt;CommandChainBuilder&lt;/b&gt;&lt;br/&gt;+ add(handler) : CommandChainBuilder&lt;br/&gt;+ build() : CommandHandler" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="960" y="960" width="220" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="handlers" value="&lt;b&gt;Concrete Handlers&lt;/b&gt;&lt;br/&gt;Help, Exit, Continue, ListAnimals, ListMap,&lt;br/&gt;Save, Load, ClearAnimals, ClearMapResources,&lt;br/&gt;DeleteAnimal, Pack, ListPacks, Spawn, Create,&lt;br/&gt;Inspect (admin), InvalidInput" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" parent="1" vertex="1">
                    <mxGeometry x="1210" y="860" width="320" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="annotations" value="Annotations (PositionValidator, AdminOnly)" style="shape=rectangle;rounded=1;whiteSpace=wrap;html=1;strokeColor=#888888;fillColor=#FAFAFA;fontSize=11;align=center;verticalAlign=middle;dashed=1;" parent="1" vertex="1">
                    <mxGeometry x="1540" y="650" width="200" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="shield" value="ExceptionShieldingLayer" style="shape=rectangle;rounded=1;whiteSpace=wrap;html=1;strokeColor=#888888;fillColor=#FAFAFA;fontSize=11;align=center;verticalAlign=middle;dashed=1;" parent="1" vertex="1">
                    <mxGeometry x="1540" y="720" width="200" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="edge1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="main" target="game" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="gameAdmin" target="game" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="gameDefault" target="game" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=none;" parent="1" source="game" target="gameLoop" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="loggingObserver" target="gameObserver" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="recapObserver" target="gameObserver" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=none;" parent="1" source="gameLoop" target="gameObserver" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="gameLoop" target="gameEvent" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="gameEvent" target="gameEventType" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="animal" target="animalComponent" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="pack" target="animalComponent" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="carnivore" target="animal" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="herbivore" target="animal" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="carFactory" target="animalFactory" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="herFactory" target="animalFactory" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=diamond;endFill=0;" parent="1" source="repository" target="animalComponent" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=diamond;endFill=0;" parent="1" source="pack" target="animalComponent" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=none;" parent="1" source="gameLoop" target="mapBuilder" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=none;" parent="1" source="gameLoop" target="repository" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=none;" parent="1" source="mapBuilder" target="environmentMap" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="mapBuilder" target="position" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="animalComponent" target="position" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="snapshot" target="animalRepoState" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="snapshot" target="mapState" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="repository" target="animalRepoState" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="mapBuilder" target="mapState" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="animalFactory" target="animalState" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="saveGame" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="saveGame" target="serializationStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="saveGame" target="persistenceStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="loadGame" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="loadGame" target="readStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="loadGame" target="deserializationStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="jsonSer" target="serializationStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="binSer" target="serializationStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="jsonDes" target="deserializationStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="binDes" target="deserializationStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="jsonRead" target="readStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="binRead" target="readStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="jsonPersist" target="persistenceStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="binPersist" target="persistenceStrategy" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=none;dashed=1;" parent="1" source="gameLoop" target="commandChainBuilder" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" parent="1" source="handlers" target="commandHandler" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="mapBuilder" target="annotations" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge45" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="gameLoop" target="annotations" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="jsonSer" target="shield" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="jsonDes" target="shield" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" parent="1" source="jsonRead" target="shield" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>