<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2026-01-13T00:00:00.000Z" agent="5.0 (Windows)" etag="" version="20.3.2" type="device">
  <diagram id="strategy-diagram" name="strategy.IO">
    <mxGraphModel dx="1186" dy="740" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Interfaces -->
        <mxCell id="serialization" value="&lt;b&gt;SerializationStrategy&lt;/b&gt;&lt;br/&gt;&lt;i&gt;interface&lt;/i&gt;&lt;br/&gt;&lt;br/&gt;+ serialize(snapshot : GameSnapshot) : T" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="60" y="40" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="deserialization" value="&lt;b&gt;DeserializationStrategy&lt;/b&gt;&lt;br/&gt;&lt;i&gt;interface&lt;/i&gt;&lt;br/&gt;&lt;br/&gt;+ deserialize(data : T) : GameSnapshot" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="360" y="40" width="260" height="120" as="geometry" />
        </mxCell>
        <mxCell id="read" value="&lt;b&gt;ReadStrategy&lt;/b&gt;&lt;br/&gt;&lt;i&gt;interface&lt;/i&gt;&lt;br/&gt;&lt;br/&gt;+ read(filePath : String) : T" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="660" y="40" width="220" height="110" as="geometry" />
        </mxCell>
        <mxCell id="saveStrategy" value="&lt;b&gt;SaveStrategy&lt;/b&gt;&lt;br/&gt;&lt;i&gt;interface&lt;/i&gt;&lt;br/&gt;&lt;br/&gt;+ save(snapshot : GameSnapshot, filePath : String) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="920" y="40" width="240" height="110" as="geometry" />
        </mxCell>
        <mxCell id="loadStrategy" value="&lt;b&gt;LoadStrategy&lt;/b&gt;&lt;br/&gt;&lt;i&gt;interface&lt;/i&gt;&lt;br/&gt;&lt;br/&gt;+ load(filePath : String) : GameSnapshot" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#F8F8FF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1180" y="40" width="240" height="110" as="geometry" />
        </mxCell>

        <!-- Abstract class -->
        <mxCell id="persistence" value="&lt;b&gt;PersistenceStrategy&lt;/b&gt;&lt;br/&gt;&lt;i&gt;abstract&lt;/i&gt;&lt;br/&gt;&lt;br/&gt;- path : Path&lt;br/&gt;+ PersistenceStrategy(filePath : String)&lt;br/&gt;# save(serialized : T) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF8F0;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="60" y="200" width="300" height="150" as="geometry" />
        </mxCell>

        <!-- Concrete serialization/deserialization -->
        <mxCell id="jsonSer" value="&lt;b&gt;JsonSerializationStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ serialize(snapshot) : String" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="60" y="380" width="240" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jsonDes" value="&lt;b&gt;JsonDeserializationStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ deserialize(data : String) : GameSnapshot" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="360" y="380" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="binSer" value="&lt;b&gt;BinarySerializationStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ serialize(snapshot) : byte[]" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="60" y="480" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="binDes" value="&lt;b&gt;BinaryDeserializationStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ deserialize(data : byte[]) : GameSnapshot" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="360" y="480" width="280" height="80" as="geometry" />
        </mxCell>

        <!-- Concrete persistence/read -->
        <mxCell id="jsonPersist" value="&lt;b&gt;JsonPersistenceStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ save(serialized : String) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="60" y="600" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="binPersist" value="&lt;b&gt;BinaryPersistenceStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ save(serialized : byte[]) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="360" y="600" width="260" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jsonRead" value="&lt;b&gt;JsonReadStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ read(filePath : String) : String" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="660" y="200" width="220" height="80" as="geometry" />
        </mxCell>
        <mxCell id="binRead" value="&lt;b&gt;BinaryReadStrategy&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ read(filePath : String) : byte[]" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFFFFF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="900" y="200" width="220" height="80" as="geometry" />
        </mxCell>

        <!-- Save/Load orchestrators -->
        <mxCell id="saveGame" value="&lt;b&gt;SaveGame&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ save(fileName : String, snapshot : GameSnapshot, type : String) : void" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#E8F5FF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="660" y="320" width="300" height="100" as="geometry" />
        </mxCell>
        <mxCell id="loadGame" value="&lt;b&gt;LoadGame&lt;/b&gt;&lt;br/&gt;&lt;br/&gt;+ load(fileName : String, type : String) : GameSnapshot" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#E8F5FF;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1000" y="320" width="300" height="100" as="geometry" />
        </mxCell>

        <!-- Exceptions -->
        <mxCell id="saveEx" value="&lt;b&gt;SaveException&lt;/b&gt;&lt;br/&gt;&lt;i&gt;RuntimeException&lt;/i&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1000" y="460" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="loadEx" value="&lt;b&gt;LoadException&lt;/b&gt;&lt;br/&gt;&lt;i&gt;RuntimeException&lt;/i&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1200" y="460" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="serEx" value="&lt;b&gt;SerializationException&lt;/b&gt;&lt;br/&gt;&lt;i&gt;RuntimeException&lt;/i&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1000" y="540" width="200" height="60" as="geometry" />
        </mxCell>
        <mxCell id="deserEx" value="&lt;b&gt;DeserializationException&lt;/b&gt;&lt;br/&gt;&lt;i&gt;RuntimeException&lt;/i&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;fillColor=#FFF0F0;fontSize=12;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1220" y="540" width="200" height="60" as="geometry" />
        </mxCell>

        <!-- Edges: implementations -->
        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="jsonSer" target="serialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="binSer" target="serialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="jsonDes" target="deserialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="binDes" target="deserialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="jsonPersist" target="persistence" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="binPersist" target="persistence" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="jsonRead" target="read" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;endArrow=block;endFill=1;" edge="1" source="binRead" target="read" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Save/Load composition of strategies -->
        <mxCell id="e9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="saveGame" target="saveStrategy" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="saveGame" target="serialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="saveGame" target="persistence" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <mxCell id="e12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="loadGame" target="loadStrategy" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="loadGame" target="read" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="loadGame" target="deserialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- Exception relations -->
        <mxCell id="e15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="saveEx" target="saveGame" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="loadEx" target="loadGame" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="serEx" target="serialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="deserEx" target="deserialization" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- External references -->
        <mxCell id="gameSnap" value="GameSnapshot (memento.GameSnapshot)" style="shape=rectangle;rounded=1;whiteSpace=wrap;html=1;strokeColor=#888888;fillColor=#FAFAFA;fontSize=11;align=center;verticalAlign=middle;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="200" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="shield" value="ExceptionShieldingLayer (exceptionShielding)" style="shape=rectangle;rounded=1;whiteSpace=wrap;html=1;strokeColor=#888888;fillColor=#FAFAFA;fontSize=11;align=center;verticalAlign=middle;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="260" width="240" height="50" as="geometry" />
        </mxCell>

        <mxCell id="e19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="serialization" target="gameSnap" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="deserialization" target="gameSnap" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="jsonSer" target="shield" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="jsonDes" target="shield" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="e23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;dashed=1;endArrow=none;" edge="1" source="jsonRead" target="shield" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

