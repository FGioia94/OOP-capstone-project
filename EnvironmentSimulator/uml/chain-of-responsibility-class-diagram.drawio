<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.3.0">
  <diagram name="Chain of Responsibility - Class Diagram" id="chain-class-diagram">
    <mxGraphModel dx="1722" dy="948" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="commandhandler-abstract" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;abstract&amp;gt;&amp;gt;&lt;/i&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;CommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;# next: CommandHandler&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ setNext(CommandHandler): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handleAndMessage(String, Scanner, GameLoop): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;i&gt;+ handle(String, Scanner, GameLoop): boolean&lt;/i&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;# askFileName(Scanner): String&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;# askFormat(Scanner): String&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;# askAreYouSure(Scanner): boolean&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;# isCancel(String): boolean&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;# checkCancel(String): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="200" width="340" x="40" y="40" as="geometry" />
        </mxCell>
        <mxCell id="chainbuilder-class" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;CommandChainBuilder&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- head: CommandHandler&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- tail: CommandHandler&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ add(CommandHandler): CommandChainBuilder&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ build(): CommandHandler&lt;/p&gt;" vertex="1">
          <mxGeometry height="100" width="300" x="480" y="60" as="geometry" />
        </mxCell>
        <mxCell id="help-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;HelpCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="40" y="320" as="geometry" />
        </mxCell>
        <mxCell id="save-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SaveCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="40" y="400" as="geometry" />
        </mxCell>
        <mxCell id="load-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;LoadCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="40" y="480" as="geometry" />
        </mxCell>
        <mxCell id="exit-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ExitCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="40" y="560" as="geometry" />
        </mxCell>
        <mxCell id="continue-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ContinueCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="40" y="640" as="geometry" />
        </mxCell>
        <mxCell id="spawn-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;SpawnCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- askSpecs(Scanner): Map&lt;/p&gt;" vertex="1">
          <mxGeometry height="70" width="180" x="250" y="320" as="geometry" />
        </mxCell>
        <mxCell id="create-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;CreateCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="250" y="410" as="geometry" />
        </mxCell>
        <mxCell id="delete-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;DeleteAnimalCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="250" y="490" as="geometry" />
        </mxCell>
        <mxCell id="pack-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;PackCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="250" y="570" as="geometry" />
        </mxCell>
        <mxCell id="clearanimals-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ClearAnimalsCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="180" x="250" y="650" as="geometry" />
        </mxCell>
        <mxCell id="clearmap-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ClearMapResourcesCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="220" x="460" y="320" as="geometry" />
        </mxCell>
        <mxCell id="listanimals-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ListAnimalsCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="220" x="460" y="400" as="geometry" />
        </mxCell>
        <mxCell id="listmap-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ListMapCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="220" x="460" y="480" as="geometry" />
        </mxCell>
        <mxCell id="listpacks-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;ListPacksCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="220" x="460" y="560" as="geometry" />
        </mxCell>
        <mxCell id="inspect-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;InspectCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;@AdminOnly&lt;/i&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- inspectAnimal(...): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- discoverFactories(): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- compareAnimals(...): void&lt;/p&gt;" vertex="1">
          <mxGeometry height="100" width="220" x="460" y="640" as="geometry" />
        </mxCell>
        <mxCell id="invalid-handler" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=10;fontFamily=Helvetica;html=1;fillColor=#f8cecc;strokeColor=#b85450;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;InvalidInputCommandHandler&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handle(...): boolean&lt;/p&gt;" vertex="1">
          <mxGeometry height="60" width="220" x="460" y="760" as="geometry" />
        </mxCell>
        <mxCell id="edge-help" edge="1" parent="1" source="help-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-save" edge="1" parent="1" source="save-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-load" edge="1" parent="1" source="load-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-exit" edge="1" parent="1" source="exit-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-continue" edge="1" parent="1" source="continue-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-spawn" edge="1" parent="1" source="spawn-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-create" edge="1" parent="1" source="create-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-delete" edge="1" parent="1" source="delete-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-pack" edge="1" parent="1" source="pack-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-clearanimals" edge="1" parent="1" source="clearanimals-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="340" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-clearmap" edge="1" parent="1" source="clearmap-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-listanimals" edge="1" parent="1" source="listanimals-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-listmap" edge="1" parent="1" source="listmap-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-listpacks" edge="1" parent="1" source="listpacks-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-inspect" edge="1" parent="1" source="inspect-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-invalid" edge="1" parent="1" source="invalid-handler" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=block;endFill=0;" target="commandhandler-abstract" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="570" y="280" />
              <mxPoint x="210" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-chain" edge="1" parent="1" source="commandhandler-abstract" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endArrow=open;endFill=0;entryX=1;entryY=0.25;exitX=1;exitY=0.75;dashed=0;" target="commandhandler-abstract" value="next">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="420" y="190" />
              <mxPoint x="420" y="90" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="edge-builder" edge="1" parent="1" source="chainbuilder-class" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;" target="commandhandler-abstract" value="«builds»">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="legend-box" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;verticalAlign=top;fontStyle=1" value="&lt;b&gt;Legend&lt;/b&gt;" vertex="1">
          <mxGeometry height="200" width="340" x="840" y="40" as="geometry" />
        </mxCell>
        <mxCell id="legend-1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" value="Abstract Handler: Chain base class" vertex="1">
          <mxGeometry height="25" width="320" x="850" y="70" as="geometry" />
        </mxCell>
        <mxCell id="legend-2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;align=left;" value="Builder: Constructs handler chain" vertex="1">
          <mxGeometry height="25" width="320" x="850" y="100" as="geometry" />
        </mxCell>
        <mxCell id="legend-3" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;align=left;" value="Concrete Handlers: Process commands" vertex="1">
          <mxGeometry height="25" width="320" x="850" y="130" as="geometry" />
        </mxCell>
        <mxCell id="legend-4" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;align=left;" value="Admin Handler: Reflection-based @AdminOnly" vertex="1">
          <mxGeometry height="25" width="320" x="850" y="160" as="geometry" />
        </mxCell>
        <mxCell id="legend-5" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;align=left;" value="Fallback Handler: Catches invalid commands" vertex="1">
          <mxGeometry height="25" width="320" x="850" y="190" as="geometry" />
        </mxCell>
        <mxCell id="note-1" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;verticalAlign=top;" value="&lt;b&gt;Chain of Responsibility Pattern&lt;/b&gt;&lt;br&gt;&lt;br&gt;Each handler decides whether to process a command or pass it to the next handler in the chain. The pattern decouples senders from receivers and allows multiple objects a chance to handle the request.&lt;br&gt;&lt;br&gt;&lt;b&gt;Key Components:&lt;/b&gt;&lt;br&gt;• &lt;b&gt;CommandHandler:&lt;/b&gt; Abstract base with next reference&lt;br&gt;• &lt;b&gt;Concrete Handlers:&lt;/b&gt; Each handles specific commands&lt;br&gt;• &lt;b&gt;CommandChainBuilder:&lt;/b&gt; For chain construction&lt;br&gt;• &lt;b&gt;InvalidInputCommandHandler:&lt;/b&gt; Fallback at end of chain" vertex="1">
          <mxGeometry height="220" width="340" x="840" y="270" as="geometry" />
        </mxCell>
        <mxCell id="note-2" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;verticalAlign=top;" value="&lt;b&gt;Request Flow&lt;/b&gt;&lt;br&gt;&lt;br&gt;1. Client calls handleAndMessage() on first handler&lt;br&gt;2. Each handler checks if it can process the command&lt;br&gt;3. If yes: processes and returns true&lt;br&gt;4. If no: delegates to next handler via next.handle()&lt;br&gt;5. InvalidInputCommandHandler catches unhandled commands&lt;br&gt;&lt;br&gt;&lt;b&gt;Benefits:&lt;/b&gt;&lt;br&gt;• Reduced coupling between sender and receivers&lt;br&gt;• Flexible chain reconfiguration at runtime&lt;br&gt;• Single Responsibility: each handler has one job&lt;br&gt;• Open/Closed: add new handlers without modifying existing" vertex="1">
          <mxGeometry height="260" width="340" x="840" y="520" as="geometry" />
        </mxCell>
        <mxCell id="note-3" parent="1" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;verticalAlign=top;" value="&lt;b&gt;Total Handlers: 14&lt;/b&gt;&lt;br&gt;&lt;br&gt;Game Commands: Help, Exit, Continue&lt;br&gt;State Management: Save, Load&lt;br&gt;Entity Operations: Create, Delete, Spawn, Pack&lt;br&gt;Information: ListAnimals, ListMap, ListPacks&lt;br&gt;Map Management: ClearAnimals, ClearMapResources&lt;br&gt;Admin Features: Inspect (Reflection API)&lt;br&gt;Fallback: InvalidInput" vertex="1">
          <mxGeometry height="160" width="340" x="840" y="810" as="geometry" />
        </mxCell>
        <mxCell id="gameloop-client" parent="1" style="verticalAlign=top;align=left;overflow=fill;fontSize=11;fontFamily=Helvetica;html=1;fillColor=#f5f5f5;strokeColor=#666666;" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;b&gt;GameLoop&lt;/b&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;(Client)&lt;/i&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- chain: CommandHandler&lt;/p&gt;&lt;hr size=&quot;1&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ handleUserInputs(): void&lt;/p&gt;" vertex="1">
          <mxGeometry height="100" width="280" x="1240" y="80" as="geometry" />
        </mxCell>
        <mxCell id="edge-gameloop" edge="1" parent="1" source="gameloop-client" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;" target="chainbuilder-class" value="uses">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-gameloop2" edge="1" parent="1" source="gameloop-client" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;endArrow=open;endFill=0;" target="commandhandler-abstract" value="invokes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1380" y="260" />
              <mxPoint x="210" y="260" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
